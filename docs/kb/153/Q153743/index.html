<!DOCTYPE html>
<html lang="en-US">
<head>
    <meta charset='utf-8'>
    <meta http-equiv="X-UA-Compatible" content="chrome=1">
    <link href='https://fonts.googleapis.com/css?family=Chivo:900' rel='stylesheet' type='text/css'>
    <link rel="stylesheet" href="/kbarchive/assets/css/style.css?v=4c5dc89ca309d19d6d9171a268a55a16d7399494">
    <link rel="stylesheet" type="text/css" href="/kbarchive/assets/css/print.css" media="print">
    <!--[if lt IE 9]>
    <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->

    <!-- Begin Jekyll SEO tag v2.3.0 -->
<title>Q153743: Joining a Domain During Automated Setup Fails | KnowledgeBase Archive</title>
<meta property="og:title" content="Q153743: Joining a Domain During Automated Setup Fails" />
<meta property="og:locale" content="en_US" />
<meta name="description" content="An Archive of Early Microsoft KnowledgeBase Articles" />
<meta property="og:description" content="An Archive of Early Microsoft KnowledgeBase Articles" />
<link rel="canonical" href="http://jeffpar.github.io/kbarchive/kb/153/Q153743/" />
<meta property="og:url" content="http://jeffpar.github.io/kbarchive/kb/153/Q153743/" />
<meta property="og:site_name" content="KnowledgeBase Archive" />
<script type="application/ld+json">
{"name":null,"description":"An Archive of Early Microsoft KnowledgeBase Articles","author":null,"@type":"WebPage","url":"http://jeffpar.github.io/kbarchive/kb/153/Q153743/","publisher":null,"image":null,"headline":"Q153743: Joining a Domain During Automated Setup Fails","dateModified":null,"datePublished":null,"sameAs":null,"mainEntityOfPage":null,"@context":"http://schema.org"}</script>
<!-- End Jekyll SEO tag -->

</head>

<body>
<div id="container">
    <div class="inner">

        <header>
            <h1><a href="/kbarchive">KnowledgeBase Archive</a></h1>
            <h2>An Archive of Early Microsoft KnowledgeBase Articles</h2>
        </header>
        <section id="downloads" class="clearfix">
            
            
            <a href="http://github.com/jeffpar/kbarchive" id="view-on-github" class="button"><span>View on GitHub</span></a>
            
        </section>
        <hr>
        <section id="main_content">
                <div>
        <h2 id="q153743-joining-a-domain-during-automated-setup-fails">Q153743: Joining a Domain During Automated Setup Fails</h2>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>Article: Q153743
Product(s): Microsoft Windows NT
Version(s): 3.50 3.51
Operating System(s): 
Keyword(s): 
Last Modified: 09-AUG-2001

-------------------------------------------------------------------------------
The information in this article applies to:

- Microsoft Windows NT Workstation versions 3.5, 3.51 
- Microsoft Windows NT Server versions 3.5, 3.51 
- MSPRESS Microsoft Windows NT Resource Kit, versions 3.5, 3.51 
-------------------------------------------------------------------------------

SUMMARY
=======

Joining a domain during an automated Windows NT Setup may fail in some
instances.

CAUSE
=====

There are various causes for failures. The most common ones are listed below:

1. Problems communicating with a Primary Domain Controller (PDC) during Windows
  NT Setup.

2. Not creating a new computer account for the system attempting to join the
  domain.

3. Specifying a Workgroup name as well as a domain name in the answer file.

MORE INFORMATION
================

You must be able to contact a PDC during Setup if you want to join a domain. If
the PDC is across a router, you will need to use a routable protocol such as
TCP/IP. This may also involve configuring a DHCP Server to supply a valid WINS
Server address or using an LMHOSTS file with #PRE #DOM statements to assist in
resolving Netbios names. For more information on TCP/IP name resolution, refer
to the "Name Resolution for Windows Networking" section in the TCP/IP manual
included with Windows NT Server.

From Cps.hlp included in the Windows NT Resource Kit:

  If you specify a domain to join, there must be a computer account on the
  server for the domain, and the account must never have been joined to.

Another common problem involves the Ntlanman.inf file that is used in setting up
the network, including joining a domain. The issue is that Ntlanman.inf first
attempts to set the Workgroup name by comparing STF_AUTOWORKGROUP to "" (the
empty string). If this is successful the domain information is ignored. To avoid
this issue, modify the [DefaultValues] section of your answer file (that is,
Unattend.txt, Profile.ini, Defaults.inf) as follows:

  DefaultWorkgroup = ""

Do not attempt to comment the line by placing a semicolon in front of
DefaultWorkgroup.

For more information on automating Windows NT Setup, refer to Volume 1, Chapter 3
of the Windows NT Resource Kit 3.51.

Additional query words: profile cps unattended install
======================================================================
Keywords          :  
Technology        : kbWinNTsearch kbWinNTWsearch kbWinNT351search kbWinNT350search kbWinNTW350 kbWinNTW350search kbWinNTW351search kbWinNTW351 kbWinNTSsearch kbWinNTS351 kbWinNTS350 kbMSPressSearch kbWinNTS351search kbWinNTS350search kbZNotKeyword6 kbZNotKeyword2 kbZNotKeyword5
Version           : 3.50 3.51

=============================================================================
</code></pre></div></div>


        <p>
            THE INFORMATION PROVIDED IN THE MICROSOFT KNOWLEDGE BASE IS
            PROVIDED "AS IS" WITHOUT WARRANTY OF ANY KIND.  MICROSOFT DISCLAIMS
            ALL WARRANTIES, EITHER EXPRESS OR IMPLIED, INCLUDING THE WARRANTIES
            OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE.  IN NO
            EVENT SHALL MICROSOFT CORPORATION OR ITS SUPPLIERS BE LIABLE FOR
            ANY DAMAGES WHATSOEVER INCLUDING DIRECT, INDIRECT, INCIDENTAL,
            CONSEQUENTIAL, LOSS OF BUSINESS PROFITS OR SPECIAL DAMAGES, EVEN IF
            MICROSOFT CORPORATION OR ITS SUPPLIERS HAVE BEEN ADVISED OF THE
            POSSIBILITY OF SUCH DAMAGES.  SOME STATES DO NOT ALLOW THE EXCLUSION
            OR LIMITATION OF LIABILITY FOR CONSEQUENTIAL OR INCIDENTAL DAMAGES
            SO THE FOREGOING LIMITATION MAY NOT APPLY.
        </p>
        <p>Copyright Microsoft Corporation 1986-2002.</p>
    </div>

        </section>

        <footer>
            
            KnowledgeBase Archive is maintained by <a href="http://github.com/jeffpar">jeffpar</a><br>
            
            This page was generated by <a href="https://pages.github.com">GitHub Pages</a>.
        </footer>

    </div>
</div>


</body>
</html>