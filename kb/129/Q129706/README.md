---
layout: page
title: "Q129706: X400: Incoming X.400 Receipt Notifications"
permalink: kb/129/Q129706/
---

## Q129706: X400: Incoming X.400 Receipt Notifications

	Article: Q129706
	Product(s): Microsoft Mail For PC Networks
	Version(s): MS-DOS:2.1,3.0,3.2
	Operating System(s): 
	Keyword(s): 
	Last Modified: 05-NOV-1999
	
	-------------------------------------------------------------------------------
	The information in this article applies to:
	
	- Microsoft Mail Gateway to X.400, versions 2.1, 3.0, 3.2 
	-------------------------------------------------------------------------------
	
	SYMPTOMS
	========
	
	When a Microsoft Mail user requests a return receipt for a message sent to a
	foreign X.400 user, the receipt is not a standard postcard. Some systems (DEC
	Mail Works, Memo, Retix Open Mail) return a native X.400 receipt notification.
	The Microsoft Mail for Windows user will receive a message with the following
	text:
	
	  From: POSTMASTER
	  To: Admin
	  Subject:
	  Date: Friday February 24,1995 14:26
	
	  ** Receipt Notification **
	  Receipt: Feb 24 14:26:53 1995 -08:00 relative to GMT
	
	A Microsoft Mail MS-DOS user will receive a message with the following text:
	
	  DATE: Feb 24 14:26:54 1995 -08:00 relative to GMT
	  FROM: POSTMASTER
	
	  Reported: 00000261.MAI
	  Actual Recipient: root [C=us; A=mci; P=msft; O=x400hub
	
	  ??????????????????????????????????????????????????????
	  ** Receipt Notification **
	  Receipt: Feb 24 14:26:53 1995 -08:00 relative to GMT
	
	Because the message lacks a subject, it is impossible to know which message was
	answered.
	
	CAUSE
	=====
	
	This is the content of the X.400 receipt notification generated by the user
	agent (UA) of the foreign mail system. The service element called Receipt
	Notification is a nonessential option of the X.420 CCITT recommendations.
	
	The Receipt Notification element is composed of three parts:
	
	  Receipt Time
	  TypeOfReceipt
	  Supplementary Info
	
	Most foreign mail systems only include the first field (the Receipt Time). The
	user agent must make the correspondence between the original message and the
	return receipt by using the IPMessageID. Microsoft Mail uses the O/R address of
	the originator and an identifier. This identifier is the name of the file
	containing the message (00000261.MAI). Because Microsoft Mail does not keep this
	pointer in memory, there is no way to associate the two messages.
	
	The Microsoft Mail Gateway to X.400 changes the FROM file to POSTMASTER so that
	the recipient will not receive a nondelivery report if the return receipt does
	not get delivered. SR# SRM950213000003
	Status Closed because customer doesn't want to use StripGatewayHeaders=0
	Technical explanation:
	
	The fact that the Windows client does not show the Actual Recipient as in the
	MS-DOS client is a bug. The StripGatewayHeaders=0 parameter in the MSMAIL.INI
	file should add this extended information.
	
	Changing incoming native X.400 Receipt Notifications into MS Mail
	"MicrosoftMailv3.0IPM.MicrosoftMail.ReadReceipt" type messages would not give
	any more information than the MS-DOS client--i.e., MAI file name, User name, and
	time read. The foreign X.400 system would have to add the subject field to the
	Supplementary Info field for this to work.
	
	WORKAROUND
	==========
	
	To eliminate incoming receipt notifications, do not use return receipts on mail
	sent to X.400 users. This solution will not work, however, if the mail is
	addressed to both Microsoft Mail users and X.400 users. In this case, a
	third-party product such as WinRules can be used to filter the receipt
	notification messages.
	
	WinRules is manufactured by Beyond Incorporated, a vendor independent of
	Microsoft; we make no warranty, implied or otherwise, regarding this product's
	performance or reliability.
	
	Additional query words: 2.10 3.00 3.20
	
	======================================================================
	Keywords          :  
	Technology        : kbMailSearch kbMailGateSearch kbZNotKeyword3 kbMailGatex400300 kbMailGatex400320 kbMailGatex400210
	Version           : MS-DOS:2.1,3.0,3.2
	
	=============================================================================
	
