---
layout: page
title: "Q263913: SMS: Delete Aged Discovery Task Reports Zero Items Deleted"
permalink: /kb/263/Q263913/
---

## Q263913: SMS: Delete Aged Discovery Task Reports Zero Items Deleted

	Article: Q263913
	Product(s): Microsoft Systems Management Server
	Version(s): 2.0
	Operating System(s): 
	Keyword(s): kbDatabase kbsms200 kbsms200bug kbDiscovery kbStatSum
	Last Modified: 05-APR-2002
	
	-------------------------------------------------------------------------------
	The information in this article applies to:
	
	- Microsoft Systems Management Server version 2.0 
	-------------------------------------------------------------------------------
	
	SYMPTOMS
	========
	
	Systems Management Server status messages that are generated by SMS_SQL_MONITOR,
	reporting the deletion of Aged Discovery data, always report deletion of zero
	(0) items, regardless of the number of items that are actually deleted by the
	maintenance task.
	
	An example of the status message text is:
	
	  SMS_SQL_MONITOR 2404 The database maintenance SQL task "Delete Aged Discovery
	  Data - System" completed successfully. The task deleted 0 items from the SMS
	  site database.
	
	WORKAROUND
	==========
	
	To determine the actual number of items deleted by the Delete Aged Discovery
	Data database maintenance task, the log for SMS_SQL_MONITOR must be examined
	directly.
	
	As a prerequisite, logging must be enabled for the SMS_SQL_MONITOR component by
	doing the following steps:
	
	1. Open the Systems Management Server Administrator console.
	
	2. Navigate to the Tools node and expand it.
	
	3. Right-click SMS Service Manager, click All Tasks, and then click Start SMS
	  Service Manager.
	
	4. In SMS Service Manager, expand <Your Site Code>.
	
	5. Click Components.
	
	6. In the right pane, highlight SMS_SQL_MONITOR.
	
	7. Right-click SMS_SQL_MONITOR and click Logging.
	
	8. Click Logging Enabled.
	
	9. Click OK and close SMS Service Manager.
	
	NOTE: You should increase the size of the log file if you plan on using the above
	workaround on a periodic basis, because the log file may wrap frequently and
	lose the data you want to view. The default size of the log file is 1 megabyte
	(MB).
	
	Once logging is enabled, verify the actual number of deleted Aged Discovery
	items:
	
	1. After a scheduled Delete Aged Discovery Data task is finished, open the
	  Systems Management Server Administrator console, and navigate to System
	  Status.
	
	2. Navigate to Site Status, Your Site, and then Component Status.
	
	3. Locate SMS_SQL_MONITOR in the list.
	
	4. Right-click SMS_SQL_MONITOR, click Show Messages, and then click All.
	
	5. Locate status messages with an identification (ID) of 2404. Note the date and
	  time of the status message.
	
	6. Using Notepad or a similar utility, open Smsdbmon.log from the Sms\Logs
	  directory on the server where SMS_SQL_MONITOR resides.
	
	7. Scan the log, locating an entry similar to the following that corresponds
	  with the time of the status message:
	
	  STATMSG: ID=2404 SEV=I LEV=M SOURCE="SMS Server" COMP="SMS_SQL_MONITOR"
	  SYS=SMSSERVERNC SITE=ABC PID=1108 TID=524 GMTDATE=Wed May 24 14:11:03.968
	  2000 ISTR0="Delete Aged Discovery Data - System" ISTR1="0" ISTR2="" ISTR3=""
	  ISTR4="" ISTR5="" ISTR6="" ISTR7="" ISTR8="" ISTR9="" NUMATTRS=0
	
	Above this entry you should see an entry similar to the following:
	
	  DeleteDiscoveryItems deleted 53 rows of architecture System.
	
	This entry reflects the actual number of items deleted during the database
	maintenance task.
	
	STATUS
	======
	
	Microsoft has confirmed this to be a problem in Systems Management Server
	version 2.0.
	
	
	Additional query words: prodsms
	
	======================================================================
	Keywords          : kbDatabase kbsms200 kbsms200bug kbDiscovery kbStatSum 
	Technology        : kbSMSSearch kbSMS200
	Version           : :2.0
	Issue type        : kbprb
	
	=============================================================================
	
