---
layout: page
title: "Q314807: LUWID Specified by SET_TP_PROPERTIES Verb May Be Overwritten"
permalink: /kb/314/Q314807/
---

## Q314807: LUWID Specified by SET_TP_PROPERTIES Verb May Be Overwritten

{% raw %}

	Article: Q314807
	Product(s): Microsoft SNA Server
	Version(s): 4.0,4.0 SP1,4.0 SP2,4.0 SP3,4.0 SP4
	Operating System(s): 
	Keyword(s): kbDSupport sna4 kbsna400sp1 kbsna400sp2 kbsna400sp3 kbhis2000 kbhis2000bug kbsna400sp4
	Last Modified: 18-DEC-2001
	
	-------------------------------------------------------------------------------
	The information in this article applies to:
	
	- Microsoft SNA Server, versions 4.0, 4.0 SP1, 4.0 SP2, 4.0 SP3, 4.0 SP4 
	- Microsoft Host Integration Server 2000 
	-------------------------------------------------------------------------------
	
	SYMPTOMS
	========
	
	An Advanced Program-to-Program Communications (APPC) application that uses the
	SET_TP_PROPERTIES verb to specify a logical unit-of-work identifier (LUWID) may
	have its LUWID overwritten by an LUWID that is generated by the SNA Server
	service (Snaservr.exe) on a subsequent ALLOCATE exchange.
	
	CAUSE
	=====
	
	The APPC library (Wappc32.dll) does not correctly save LUWID values that are
	specifically set by a SET_TP_PROPERTIES verb. Therefore, the APPC library allows
	the LUWID to be overwritten by an LUWID that is generated by the SNA Server
	service.
	
	STATUS
	======
	
	SNA Server 4.0:
	
	Microsoft has confirmed this to be a problem in Microsoft SNA Server versions
	4.0, 4.0 Service Pack (SP) 1, 4.0 SP2, 4.0 SP3, 4.0 SP4.
	
	
	Host Integration Server 2000:
	
	Microsoft has confirmed this to be a problem in Microsoft Host Integration Server
	2000.
	
	
	
	MORE INFORMATION
	================
	
	An APPC application that uses the Sync Point feature can use the
	SET_TP_PROPERTIES verb to set its LUWIDs. To do this, the SET_TP_PROPERTIES verb
	specifies an existing value or asks the SNA Server service to generate a new
	one. An LUWID that is set by a SET_TP_PROPERTIES verb should not be overwritten
	for the duration of the APPC transaction unless another SET_TP_PROPERTIES verb
	is issued with a new LUWID value. An APPC transaction begins with a TP_STARTED
	verb and ends with a TP_ENDED verb. The transaction may include multiple
	ALLOCATE exchanges.
	
	See the APPC Programmer's Guide in the SNA Server or Host Integration Server 2000
	Software Development Kit (SDK) for more details on the SET_TP_PROPERTIES verb.
	
	For additional information on how the SNA Server service generates LUWIDs, click
	the article number below to view the article in the Microsoft Knowledge Base:
	
	  Q175375 New Format for Logical Unit of Work Identifier
	
	Additional query words:
	
	======================================================================
	Keywords          : kbDSupport sna4 kbsna400sp1 kbsna400sp2 kbsna400sp3 kbhis2000 kbhis2000bug kbsna400sp4 
	Technology        : kbAudDeveloper kbSNAServSearch kbHostIntegServ2000 kbSNAServ400 kbSNAServ400SP1 kbSNAServ400SP2 kbSNAServ400SP3 kbSNAServ400SP4
	Version           : :4.0,4.0 SP1,4.0 SP2,4.0 SP3,4.0 SP4
	Issue type        : kbbug
	Solution Type     : kbnofix
	
	=============================================================================
	

{% endraw %}
